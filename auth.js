import{s as e}from"./db_conn.js";const n="/TA-inventory";function i(){return window.location.origin+n}async function s(){if(window.location.pathname.includes(`${n}/index.html`))return!0;const{data:{session:t},error:a}=await e.auth.getSession();return t?!0:(o(),!1)}function o(){localStorage.removeItem("sb_auth_token"),sessionStorage.removeItem("sb_auth_token"),window.location.href=`${i()}/index.html`}function u(){e.auth.onAuthStateChange(t=>{console.log("Auth state changed:",t),t==="SIGNED_OUT"&&o()})}export{s as c,u as i};
